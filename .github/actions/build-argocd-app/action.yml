name: "Daedalus"
description: "Build CI"
inputs:
  name:
    required: true
    description: application name
  namespace:
    required: true
    description: application namespace
  cluster:
    required: true
    description: application cluster
  project:
    required: false
    description: argocd project
    default: ""
  repo:
    required: true
    description: self git repo
  revision:
    required: true
    description: monitor revision
  image-name:
    required: true
    description: image name
  image-tag:
    required: true
    description: image tag
  dir:
    required: true
    description: dir
  auto-sync:
    required: false
    description: auto sync
    default: "true"
outputs:
  app: # id of output
    description: "Argo CD app yaml"
runs:
  using: node20
  main: dist/index.js
